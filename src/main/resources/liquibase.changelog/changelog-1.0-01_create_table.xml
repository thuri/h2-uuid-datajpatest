<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        logicalFilePath="changelog-1.0-02_create_promo_item_table.xml"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="changelog-1.0-02_create_promo_item_table" author="martin.noebel@rewe-digital.com">
        <comment>create PROMO_ITEM table</comment>
        <createTable tableName="PROMO_ITEM">
            <column name="ID" type="UUID"><constraints nullable="false" primaryKey="true"/></column>
            <column name="BUSINESS_KEY" type="VARCHAR(255)"><constraints nullable="false"/></column>
            <column name="TYPE" type="VARCHAR(255)"><constraints nullable="false"/></column>
            <column name="DESCRIPTION" type="VARCHAR(255)"/>
            <column name="IS_ACTIVE" type="BOOL"><constraints nullable="false"/></column>
            <column name="QUANTITY_UNIT" type="VARCHAR(255)"/>
            <column name="QUANTITY_UNIT_DISPLAY" type="VARCHAR(255)"/>
            <column name="STATUS" type="VARCHAR(255)"><constraints nullable="false"/></column>
            <column name="CREATED_AT" type="TIMESTAMP WITH TIMEZONE"><constraints nullable="false"/></column>
            <column name="UPDATED_AT" type="TIMESTAMP WITH TIMEZONE"><constraints nullable="false"/></column>
            <column name="PAYBACK_DETAILS_ID" type="UUID">
                <constraints foreignKeyName="promo_item_payback_details_fk" referencedTableName="PAYBACK_DETAILS" referencedColumnNames="ID"/>
            </column>
        </createTable>

        <createIndex tableName="PROMO_ITEM" indexName="promo_item_status_index"><column name="STATUS"/></createIndex>
    </changeSet>

</databaseChangeLog>
